<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="spring.boot.data.mybatis.mapper.CustomerMapper" >

    <insert id="insert" parameterType="customerPO" >
        INSERT INTO t_customer ( user_id, card_no, login_name, age, level, sex,
          cheap_rate, balance, last_use_time, is_valid, create_time)
        VALUES (#{userId,jdbcType=INTEGER},
         #{cardNo,jdbcType=BIGINT},
         #{loginName,jdbcType=VARCHAR},
         #{age,jdbcType=SMALLINT},
         #{level,javaType=spring.boot.data.mybatis.enums.LevelEnum},
         #{sex,javaType=spring.boot.data.mybatis.enums.SexEnum},
         #{cheapRate,jdbcType=FLOAT},
         #{balance,jdbcType=DECIMAL},
         #{lastUseTime,jdbcType=DATE},
         #{valid,jdbcType=BIT},
          #{crateTime,jdbcType=TIMESTAMP} )
    </insert>

    <update id="create">
        DROP TABLE IF EXISTS t_customer;
        CREATE TABLE `t_customer` (
        `user_id` INT NOT NULL PRIMARY KEY,
        `card_no` BIGINT NULL,
        `login_name` VARCHAR(20),
        `age` SMALLINT,
        `level` INT,
        `sex` VARCHAR(10),
        `cheap_rate` FLOAT,
        `balance` DECIMAL(18,4),
        `last_use_time` DATE,
        `is_valid` BIT,
        `create_time` TIMESTAMP DEFAULT CURRENT_TIMESTAMP
        )  ENGINE=INNODB DEFAULT CHARSET=UTF8MB4 COLLATE = UTF8MB4_0900_AI_CI;
    </update>

</mapper>